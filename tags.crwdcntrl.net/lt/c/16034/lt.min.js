var lotameIsCompatible = function() {
    return (typeof Object.keys !== 'undefined' && typeof window.postMessage !== 'undefined' && typeof XMLHttpRequest !== 'undefined' && typeof(new XMLHttpRequest().withCredentials) !== 'undefined' && typeof console !== 'undefined' && typeof console.log !== 'undefined' && typeof document.createElement !== 'undefined');
};
if (!lotameIsCompatible()) {
    if (console && console.error) {
        console.error('Lotame: This browser does not meet the minimum requirements.');
    }
} else {
    function lt16034_aa(a) {
        var b = 0;
        return function() {
            return b < a.length ? {
                done: !1,
                value: a[b++]
            } : {
                done: !0
            }
        }
    }

    function lt16034_a(a) {
        var b = "undefined" != typeof Symbol && Symbol.iterator && a[Symbol.iterator];
        return b ? b.call(a) : {
            next: lt16034_aa(a)
        }
    }
    var lt16034_ba = "function" == typeof Object.create ? Object.create : function(a) {
            function b() {}
            b.prototype = a;
            return new b
        },
        lt16034_b;
    if ("function" == typeof Object.setPrototypeOf) lt16034_b = Object.setPrototypeOf;
    else {
        var lt16034_c;
        a: {
            var lt16034_ca = {
                    Pb: !0
                },
                lt16034_da = {};
            try {
                lt16034_da.__proto__ = lt16034_ca;
                lt16034_c = lt16034_da.Pb;
                break a
            } catch (a) {}
            lt16034_c = !1
        }
        lt16034_b = lt16034_c ? function(a, b) {
            a.__proto__ = b;
            if (a.__proto__ !== b) throw new TypeError(a + " is not extensible");
            return a
        } : null
    }
    var lt16034_ea = lt16034_b;

    function lt16034_d(a, b) {
        a.prototype = lt16034_ba(b.prototype);
        a.prototype.constructor = a;
        if (lt16034_ea) lt16034_ea(a, b);
        else
            for (var c in b)
                if ("prototype" != c)
                    if (Object.defineProperties) {
                        var d = Object.getOwnPropertyDescriptor(b, c);
                        d && Object.defineProperty(a, c, d)
                    } else a[c] = b[c];
        a.qc = b.prototype
    }
    var lt16034_e = "undefined" != typeof window && window === this ? this : "undefined" != typeof global && null != global ? global : this;

    function lt16034_f(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b)
    }
    var lt16034_fa = "function" == typeof Object.assign ? Object.assign : function(a, b) {
            for (var c = 1; c < arguments.length; c++) {
                var d = arguments[c];
                if (d)
                    for (var e in d) lt16034_f(d, e) && (a[e] = d[e])
            }
            return a
        },
        lt16034_g = "function" == typeof Object.defineProperties ? Object.defineProperty : function(a, b, c) {
            a != Array.prototype && a != Object.prototype && (a[b] = c.value)
        };

    function lt16034_h(a, b) {
        if (b) {
            var c = lt16034_e;
            a = a.split(".");
            for (var d = 0; d < a.length - 1; d++) {
                var e = a[d];
                e in c || (c[e] = {});
                c = c[e]
            }
            a = a[a.length - 1];
            d = c[a];
            b = b(d);
            b != d && null != b && lt16034_g(c, a, {
                configurable: !0,
                writable: !0,
                value: b
            })
        }
    }
    lt16034_h("Object.assign", function(a) {
        return a || lt16034_fa
    });

    function lt16034_ga() {
        lt16034_ga = function() {};
        lt16034_e.Symbol || (lt16034_e.Symbol = lt16034_ha)
    }

    function lt16034_ia(a, b) {
        this.Mb = a;
        lt16034_g(this, "description", {
            configurable: !0,
            writable: !0,
            value: b
        })
    }
    lt16034_ia.prototype.toString = function() {
        return this.Mb
    };
    var lt16034_ha = function() {
        function a(c) {
            if (this instanceof a) throw new TypeError("Symbol is not a constructor");
            return new lt16034_ia("jscomp_symbol_" + (c || "") + "_" + b++, c)
        }
        var b = 0;
        return a
    }();

    function lt16034_i() {
        lt16034_ga();
        var a = lt16034_e.Symbol.iterator;
        a || (a = lt16034_e.Symbol.iterator = lt16034_e.Symbol("Symbol.iterator"));
        "function" != typeof Array.prototype[a] && lt16034_g(Array.prototype, a, {
            configurable: !0,
            writable: !0,
            value: function() {
                return lt16034_ja(lt16034_aa(this))
            }
        });
        lt16034_i = function() {}
    }

    function lt16034_ja(a) {
        lt16034_i();
        a = {
            next: a
        };
        a[lt16034_e.Symbol.iterator] = function() {
            return this
        };
        return a
    }
    lt16034_h("Object.is", function(a) {
        return a ? a : function(b, c) {
            return b === c ? 0 !== b || 1 / b === 1 / c : b !== b && c !== c
        }
    });
    lt16034_h("Array.prototype.includes", function(a) {
        return a ? a : function(b, c) {
            var d = this;
            d instanceof String && (d = String(d));
            var e = d.length;
            c = c || 0;
            for (0 > c && (c = Math.max(c + e, 0)); c < e; c++) {
                var h = d[c];
                if (h === b || Object.is(h, b)) return !0
            }
            return !1
        }
    });
    lt16034_h("String.prototype.includes", function(a) {
        return a ? a : function(b, c) {
            if (null == this) throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");
            if (b instanceof RegExp) throw new TypeError("First argument to String.prototype.includes must not be a regular expression");
            return -1 !== (this + "").indexOf(b, c || 0)
        }
    });
    lt16034_h("Object.entries", function(a) {
        return a ? a : function(b) {
            var c = [],
                d;
            for (d in b) lt16034_f(b, d) && c.push([d, b[d]]);
            return c
        }
    });
    lt16034_h("Array.prototype.find", function(a) {
        return a ? a : function(b, c) {
            a: {
                var d = this;d instanceof String && (d = String(d));
                for (var e = d.length, h = 0; h < e; h++) {
                    var g = d[h];
                    if (b.call(c, g, h, d)) {
                        b = g;
                        break a
                    }
                }
                b = void 0
            }
            return b
        }
    });
    lt16034_h("WeakMap", function(a) {
        function b(f) {
            this.da = (g += Math.random() + 1).toString();
            if (f) {
                f = lt16034_a(f);
                for (var k; !(k = f.next()).done;) k = k.value, this.set(k[0], k[1])
            }
        }

        function c() {}

        function d(f) {
            if (!lt16034_f(f, h)) {
                var k = new c;
                lt16034_g(f, h, {
                    value: k
                })
            }
        }

        function e(f) {
            var k = Object[f];
            k && (Object[f] = function(l) {
                if (l instanceof c) return l;
                d(l);
                return k(l)
            })
        }
        if (function() {
                if (!a || !Object.seal) return !1;
                try {
                    var f = Object.seal({}),
                        k = Object.seal({}),
                        l = new a([
                            [f, 2],
                            [k, 3]
                        ]);
                    if (2 != l.get(f) || 3 != l.get(k)) return !1;
                    l.delete(f);
                    l.set(k, 4);
                    return !l.has(f) && 4 == l.get(k)
                } catch (m) {
                    return !1
                }
            }()) return a;
        var h = "$jscomp_hidden_" + Math.random();
        e("freeze");
        e("preventExtensions");
        e("seal");
        var g = 0;
        b.prototype.set = function(f, k) {
            d(f);
            if (!lt16034_f(f, h)) throw Error("WeakMap key fail: " + f);
            f[h][this.da] = k;
            return this
        };
        b.prototype.get = function(f) {
            return lt16034_f(f, h) ? f[h][this.da] : void 0
        };
        b.prototype.has = function(f) {
            return lt16034_f(f, h) && lt16034_f(f[h], this.da)
        };
        b.prototype.delete = function(f) {
            return lt16034_f(f, h) && lt16034_f(f[h], this.da) ? delete f[h][this.da] : !1
        };
        return b
    });
    lt16034_h("Map", function(a) {
        function b() {
            var f = {};
            return f.I = f.next = f.head = f
        }

        function c(f, k) {
            var l = f.H;
            return lt16034_ja(function() {
                if (l) {
                    for (; l.head != f.H;) l = l.I;
                    for (; l.next != l.head;) return l = l.next, {
                        done: !1,
                        value: k(l)
                    };
                    l = null
                }
                return {
                    done: !0,
                    value: void 0
                }
            })
        }

        function d(f, k) {
            var l = k && typeof k;
            "object" == l || "function" == l ? h.has(k) ? l = h.get(k) : (l = "" + ++g, h.set(k, l)) : l = "p_" + k;
            var m = f.ba[l];
            if (m && lt16034_f(f.ba, l))
                for (f = 0; f < m.length; f++) {
                    var n = m[f];
                    if (k !== k && n.key !== n.key || k === n.key) return {
                        id: l,
                        list: m,
                        index: f,
                        g: n
                    }
                }
            return {
                id: l,
                list: m,
                index: -1,
                g: void 0
            }
        }

        function e(f) {
            this.ba = {};
            this.H = b();
            this.size = 0;
            if (f) {
                f = lt16034_a(f);
                for (var k; !(k = f.next()).done;) k = k.value, this.set(k[0], k[1])
            }
        }
        if (function() {
                if (!a || "function" != typeof a || !a.prototype.entries || "function" != typeof Object.seal) return !1;
                try {
                    var f = Object.seal({
                            x: 4
                        }),
                        k = new a(lt16034_a([
                            [f, "s"]
                        ]));
                    if ("s" != k.get(f) || 1 != k.size || k.get({
                            x: 4
                        }) || k.set({
                            x: 4
                        }, "t") != k || 2 != k.size) return !1;
                    var l = k.entries(),
                        m = l.next();
                    if (m.done || m.value[0] != f || "s" != m.value[1]) return !1;
                    m = l.next();
                    return m.done || 4 != m.value[0].x || "t" != m.value[1] || !l.next().done ? !1 : !0
                } catch (n) {
                    return !1
                }
            }()) return a;
        lt16034_i();
        var h = new WeakMap;
        e.prototype.set = function(f, k) {
            f = 0 === f ? 0 : f;
            var l = d(this, f);
            l.list || (l.list = this.ba[l.id] = []);
            l.g ? l.g.value = k : (l.g = {
                next: this.H,
                I: this.H.I,
                head: this.H,
                key: f,
                value: k
            }, l.list.push(l.g), this.H.I.next = l.g, this.H.I = l.g, this.size++);
            return this
        };
        e.prototype.delete = function(f) {
            f = d(this, f);
            return f.g && f.list ? (f.list.splice(f.index, 1), f.list.length || delete this.ba[f.id], f.g.I.next = f.g.next, f.g.next.I = f.g.I, f.g.head = null, this.size--, !0) : !1
        };
        e.prototype.clear = function() {
            this.ba = {};
            this.H = this.H.I = b();
            this.size = 0
        };
        e.prototype.has = function(f) {
            return !!d(this, f).g
        };
        e.prototype.get = function(f) {
            return (f = d(this, f).g) && f.value
        };
        e.prototype.entries = function() {
            return c(this, function(f) {
                return [f.key, f.value]
            })
        };
        e.prototype.keys = function() {
            return c(this, function(f) {
                return f.key
            })
        };
        e.prototype.values = function() {
            return c(this, function(f) {
                return f.value
            })
        };
        e.prototype.forEach = function(f, k) {
            for (var l = this.entries(), m; !(m = l.next()).done;) m = m.value, f.call(k, m[1], m[0], this)
        };
        e.prototype[Symbol.iterator] = e.prototype.entries;
        var g = 0;
        return e
    });
    lt16034_h("Promise", function(a) {
        function b(g) {
            this.ha = 0;
            this.cb = void 0;
            this.U = [];
            var f = this.Pa();
            try {
                g(f.resolve, f.reject)
            } catch (k) {
                f.reject(k)
            }
        }

        function c() {
            this.J = null
        }

        function d(g) {
            return g instanceof b ? g : new b(function(f) {
                f(g)
            })
        }
        if (a) return a;
        c.prototype.ob = function(g) {
            if (null == this.J) {
                this.J = [];
                var f = this;
                this.pb(function() {
                    f.Yb()
                })
            }
            this.J.push(g)
        };
        var e = lt16034_e.setTimeout;
        c.prototype.pb = function(g) {
            e(g, 0)
        };
        c.prototype.Yb = function() {
            for (; this.J && this.J.length;) {
                var g = this.J;
                this.J = [];
                for (var f = 0; f < g.length; ++f) {
                    var k = g[f];
                    g[f] = null;
                    try {
                        k()
                    } catch (l) {
                        this.Qb(l)
                    }
                }
            }
            this.J = null
        };
        c.prototype.Qb = function(g) {
            this.pb(function() {
                throw g;
            })
        };
        b.prototype.Pa = function() {
            function g(l) {
                return function(m) {
                    k || (k = !0, l.call(f, m))
                }
            }
            var f = this,
                k = !1;
            return {
                resolve: g(this.kc),
                reject: g(this.bb)
            }
        };
        b.prototype.kc = function(g) {
            if (g === this) this.bb(new TypeError("A Promise cannot resolve to itself"));
            else if (g instanceof b) this.lc(g);
            else {
                a: switch (typeof g) {
                    case "object":
                        var f = null != g;
                        break a;
                    case "function":
                        f = !0;
                        break a;
                    default:
                        f = !1
                }
                f ? this.jc(g) : this.yb(g)
            }
        };
        b.prototype.jc = function(g) {
            var f = void 0;
            try {
                f = g.then
            } catch (k) {
                this.bb(k);
                return
            }
            "function" == typeof f ? this.mc(f, g) : this.yb(g)
        };
        b.prototype.bb = function(g) {
            this.Jb(2, g)
        };
        b.prototype.yb = function(g) {
            this.Jb(1, g)
        };
        b.prototype.Jb = function(g, f) {
            if (0 != this.ha) throw Error("Cannot settle(" + g + ", " + f + "): Promise already settled in state" + this.ha);
            this.ha = g;
            this.cb = f;
            this.Zb()
        };
        b.prototype.Zb = function() {
            if (null != this.U) {
                for (var g = 0; g < this.U.length; ++g) h.ob(this.U[g]);
                this.U = null
            }
        };
        var h = new c;
        b.prototype.lc = function(g) {
            var f = this.Pa();
            g.ra(f.resolve, f.reject)
        };
        b.prototype.mc = function(g, f) {
            var k = this.Pa();
            try {
                g.call(f, k.resolve, k.reject)
            } catch (l) {
                k.reject(l)
            }
        };
        b.prototype.then = function(g, f) {
            function k(p, q) {
                return "function" == typeof p ? function(r) {
                    try {
                        l(p(r))
                    } catch (t) {
                        m(t)
                    }
                } : q
            }
            var l, m, n = new b(function(p, q) {
                l = p;
                m = q
            });
            this.ra(k(g, l), k(f, m));
            return n
        };
        b.prototype.catch = function(g) {
            return this.then(void 0, g)
        };
        b.prototype.ra = function(g, f) {
            function k() {
                switch (l.ha) {
                    case 1:
                        g(l.cb);
                        break;
                    case 2:
                        f(l.cb);
                        break;
                    default:
                        throw Error("Unexpected state: " + l.ha);
                }
            }
            var l = this;
            null == this.U ? h.ob(k) : this.U.push(k)
        };
        b.resolve = d;
        b.reject = function(g) {
            return new b(function(f, k) {
                k(g)
            })
        };
        b.race = function(g) {
            return new b(function(f, k) {
                for (var l = lt16034_a(g), m = l.next(); !m.done; m = l.next()) d(m.value).ra(f, k)
            })
        };
        b.all = function(g) {
            var f = lt16034_a(g),
                k = f.next();
            return k.done ? d([]) : new b(function(l, m) {
                function n(r) {
                    return function(t) {
                        p[r] = t;
                        q--;
                        0 == q && l(p)
                    }
                }
                var p = [],
                    q = 0;
                do p.push(void 0), q++, d(k.value).ra(n(p.length - 1), m), k = f.next(); while (!k.done)
            })
        };
        return b
    });

    function lt16034_j() {
        this.Qa = -1 !== window.location.href.indexOf("lotameDebug\x3dtrue");
        this.name = "LT.JS"
    }

    function lt16034_k(a, b) {
        return a.name + ": " + b
    }
    lt16034_j.prototype.debug = function(a, b) {
        this.Qa && a && "undefined" !== typeof console && "undefined" !== typeof console.log && (b ? console.log(lt16034_k(this, a), b) : console.log(lt16034_k(this, a)))
    };
    lt16034_j.prototype.error = function(a, b) {
        a && "undefined" !== typeof console && "undefined" !== typeof console.error && (null != b ? console.error(lt16034_k(this, a), b) : console.error(lt16034_k(this, a)))
    };
    var lt16034_ = new lt16034_j;

    function lt16034_l() {
        this.Ca = 23328E3
    }
    lt16034_l.prototype.K = function(a, b, c, d) {
        d = void 0 === d ? this.Ca : d;
        document.cookie = a + "\x3d" + b + "; Domain\x3d" + c + "; path\x3d/; SameSite\x3dLax; expires\x3d" + (new Date(Date.now() + 1E3 * d)).toUTCString()
    };
    lt16034_l.prototype.N = function(a) {
        var b = null,
            c = "" + document.cookie;
        0 !== c.length && (a = c.match(a + "\x3d([^;]*)"), "undefined" !== typeof a && null !== a && (b = a[1]));
        return b
    };

    function lt16034_m(a, b, c) {
        a = void 0 === a ? {} : a;
        b = void 0 === b ? {} : b;
        this.a = Object.assign({}, {
            bcpClient: 16034,
            audienceExtractionEnabled: !1,
            consentClientIds: [16033, 16034],
            panoramaIdEnabled: !0,
            enableAudienceMatching: !0,
            usPrivacyEnabled: !1,
            googleEspEnabled: !1,
            enableDeclaredIds: !0,
            enableDeclaredIdsOnEvents: !0,
            namespace: window[(void 0 === c ? "lotame_" : c) + "16034"],
            cookieDomain: lt16034_ka(String(document.domain).toLowerCase()),
            protocol: "https",
            tagsDomain: "tags.crwdcntrl.net",
            privacyDomain: "privacy.crwdcntrl.net",
            firstPartyOnlyDomain: "ltmsphrcl.net",
            firstPartyOnlyCollectionPrefix: "c",
            bcpVersion: "6",
            sharedS3Path: "lt/shared/2",
            cookieNames: ["_cc_id", "_cc_aud", "_cc_cc"],
            profileIdCookieName: "_cc_id",
            panoramaIdName: "panoramaId",
            panoramaIdTypeName: "panoramaIdType",
            declaredIdName: "lotame_16034_did",
            cmpWaitMillis: 250,
            sensitivePrefix: "st"
        }, a);
        a = this.a.namespace;
        if (!a) throw "Configuration Error! Please verify that your code and configuration match the specs and check for syntax errors in the console.";
        b = Object.assign({}, {
            onProfileReady: null,
            bcpPrefix: "bcp"
        }, b);
        this.Tb = lt16034_la(a, b);
        Object.assign(this.a, this.Tb);
        this.a.iframeOrigin = this.a.protocol + "://tags.crwdcntrl.net";
        this.a.bcpDomain = this.a.bcpPrefix + ".crwdcntrl.net";
        this.a.sensitiveDomain = this.a.bcpPrefix + "." + this.a.sensitivePrefix + ".crwdcntrl.net";
        this.a.bcpFirstPartyOnlyDomain = this.a.firstPartyOnlyCollectionPrefix + ".ltmsphrcl.net";
        this.a.sensitiveFirstPartyOnlyDomain = this.a.firstPartyOnlyCollectionPrefix + "." + this.a.sensitivePrefix + ".ltmsphrcl.net";
        this.a.privacyFirstPartyOnlyDomain = this.a.firstPartyOnlyCollectionPrefix + ".ltmsphrcl.net"
    }

    function lt16034_n(a) {
        return !(!a.a.audienceExtractionEnabled || !a.a.enableAudienceMatching || null === a.a.onProfileReady && !1 === a.a.audienceLocalStorage)
    }

    function lt16034_la(a, b) {
        var c = {},
            d = Object.keys(b),
            e = a.config;
        e && (Object.keys(e).filter(function(h) {
            return !d.includes(h)
        }).forEach(function(h) {
            return lt16034_.error("'" + h + "' is an unsupported config option.")
        }), c = Object.keys(e).filter(function(h) {
            return d.includes(h)
        }).reduce(function(h, g) {
            switch (g) {
                case "audienceLocalStorage":
                    "boolean" === typeof e[g] ? h[g] = e[g] ? "lotame_16034_auds" : !1 : "string" === typeof e[g] ? h[g] = e[g] : lt16034_.error("The audienceLocalStorage config option is being ignored as it is neither a boolean nor a string. The default value of false will be used instead.");
                    break;
                case "onTagReady":
                    "function" !== typeof e[g] ? lt16034_.error("The onTagReady config option is being ignored as it is not a function.") : h[g] = e[g];
                    break;
                case "onProfileReady":
                    "function" !== typeof e[g] ? lt16034_.error("The onProfileReady config option is being ignored as it is not a function.") : h[g] = e[g];
                    break;
                case "autoRun":
                    "boolean" !== typeof e[g] ? lt16034_.error("The autoRun config option is being ignored as it is not a boolean. The default value of true will be used instead.") : h[g] = e[g];
                    break;
                case "bcpPrefix":
                    -1 === ["bcp", "cn"].indexOf(e[g]) ? lt16034_.error("The bcpPrefix config option is being ignored as it is not valid. The default value of bcp will be used instead.") : h[g] = e[g];
                    break;
                case "clientId":
                    lt16034_.debug("The clientId config option is not needed anymore");
                    break;
                default:
                    lt16034_.error("'" + g + "' is an unsupported config option.")
            }
            return h
        }, {}));
        return Object.assign({}, b, c)
    }

    function lt16034_ka(a) {
        var b = new lt16034_l,
            c = a.split(".");
        if (2 == c.length) return a;
        var d = -2;
        do {
            var e = a = c.slice(d).join(".");
            b.K("lotame_domain_check", e, a, 10);
            b.N("lotame_domain_check") === e ? e = !1 : (d += -1, e = Math.abs(d) <= c.length)
        } while (e);
        return a
    }

    function lt16034_o(a) {
        return a.a.cookieDomain ? !1 : !0
    }

    function lt16034_p(a) {
        return a.a.cookieDomain ? !0 : !1
    }
    lt16034_m.prototype.o = function() {
        return JSON.parse(JSON.stringify(this.a))
    };

    function lt16034_ma() {
        lt16034_m.call(this, {
            hasPageLoadOptimusRules: !0,
            collectPrebidData: !1,
            googleCampaignEvents: [],
            whitelistRequired: !1,
            firstImpressionRules: [],
            bcpEnabled: "true",
            cookieHandlingScheme: "DOMAIN_WHITELIST_DISABLED"
        }, {
            onTagReady: null,
            autoRun: !0,
            audienceLocalStorage: !1,
            clientId: null
        });
        this.Nb = "DOMAIN_WHITELIST_DISABLED";
        var a = this.a;
        var b = String(document.domain).toLowerCase();
        var c = null,
            d = this.a.whitelistRequired;
        if (this.a.cookieHandlingScheme === this.Nb) b = lt16034_ka(b);
        else {
            var e = [],
                h = [];
            if (d && 0 === e.length) throw "Client " + this.a.bcpClient + " cannot run lt.min.js because it has no domains whitelisted.";
            var g = b;
            do {
                if (e.includes(g) || h.includes(g)) {
                    c = g;
                    break
                }
                var f = g.indexOf(".");
                g = g.substring(f + 1)
            } while (-1 != f);
            if (d && null == c) throw "Client " + this.a.bcpClient + " cannot run lt.min.js because neither the domain " + b + " nor any of its sub domains have been properly whitelisted";
            b = c
        }
        a.cookieDomain = b;
        if ("true" !== this.a.bcpEnabled) throw "The lt.min.js file cannot run because client " + this.a.bcpClient + " is not permitted to call Lotame's servers.";
    }
    lt16034_d(lt16034_ma, lt16034_m);

    function lt16034_q(a) {
        a = void 0 === a ? {} : a;
        this.G = null;
        if (a = a.thirdParty) {
            var b = !0;
            "object" != typeof a && (b = !1, lt16034_.error("tagInput.data.thirdParty should be an object"));
            a.namespace || (b = !1, lt16034_.error("tagInput.data.thirdParty.namespace is not defined"));
            a.value || (b = !1, lt16034_.error("tagInput.data.thirdParty.value is not defined"));
            a.namespace && "string" != typeof a.namespace && (b = !1, lt16034_.error("tagInput.data.thirdParty.namespace should be defined and have a string as its value"));
            a.value && "string" != typeof a.value && (b = !1, lt16034_.error("tagInput.data.thirdParty.value should be defined and have a string as its value"));
            b && (this.G = {}, this.G[a.namespace] = a.value)
        }
    }

    function lt16034_r(a) {
        return !!(a.G && 0 < Object.keys(a.G).length)
    }

    function lt16034_s(a) {
        var b = null;
        if (a.G) {
            b = {};
            var c = Object.keys(a.G);
            b.namespace = c[0];
            b.value = a.G[c[0]]
        }
        return b
    }
    lt16034_q.prototype.va = function() {
        return {
            tp: lt16034_r(this) ? this.G : void 0
        }
    };
    lt16034_q.prototype.D = function() {
        return !lt16034_r(this)
    };
    lt16034_q.prototype.o = function() {
        return {
            rc: lt16034_r(this) ? lt16034_s(this) : void 0
        }
    };

    function lt16034_t(a) {
        this.ka = [];
        if (a && Array.isArray(a))
            for (var b = 0; b < a.length; b++) {
                var c = a[b];
                this.ka.includes(c) || this.ka.push(c)
            }
    };
    var lt16034_na = new RegExp(/^.{1,64}@.{1,255}$/),
        lt16034_oa = ["EMAIL", "EE"];

    function lt16034_u(a) {
        a = void 0 === a ? {} : a;
        lt16034_q.call(this, a);
        this.h = this.A = this.u = this.s = null;
        lt16034_pa(this, a.behaviorIds);
        lt16034_qa(this, a.behaviors);
        lt16034_ra(this, a.ruleBuilder);
        a = a.declaredId;
        var b;
        if (b = a) b = !1, a && lt16034_v(a) ? "undefined" === typeof a.id || "undefined" === typeof a.type ? lt16034_.error("Declared ID object must contain both 'id' and 'type' attributes.") : 2 < Object.keys(a).length ? lt16034_.error("Declared ID object may only contain 'id' and 'type' attributes, got " + Object.keys(a).join(",")) : lt16034_oa.includes(a.type) ? "EMAIL" != a.type || lt16034_na.test(a.id) ? b = !0 : lt16034_.error("In declared ID, supplied id must be valid email address, was '" + a.id + "'") : lt16034_.error("Declared ID object type must one of " + lt16034_oa.join() + ", found '" + a.type + "'") : lt16034_.error("Declared ID should be an object");
        b && (this.h = a)
    }
    lt16034_d(lt16034_u, lt16034_q);

    function lt16034_sa(a, b) {
        b = void 0 === b ? new lt16034_u : b;
        var c = {};
        c.behaviorIds = (new lt16034_t((a.s || []).concat(b.s || []))).ka;
        c.thirdParty = lt16034_v(b.G) ? lt16034_s(b) : lt16034_s(a);
        var d = Object.assign({}, a.u, b.u);
        c.behaviors = {};
        Object.keys(d).forEach(function(e) {
            c.behaviors[e] = (new lt16034_t((this.u ? this.u[e] || [] : []).concat(b.u ? b.u[e] || [] : []))).ka
        }, a);
        d = Object.assign({}, a.A, b.A);
        c.ruleBuilder = {};
        Object.keys(d).forEach(function(e) {
            c.ruleBuilder[e] = (new lt16034_t((this.A ? this.A[e] || [] : []).concat(b.A ? b.A[e] || [] : []))).ka
        }, a);
        c.declaredId = lt16034_v(b.h) ? b.h : a.h;
        return new lt16034_u(c)
    }

    function lt16034_pa(a, b) {
        b && (Array.isArray(b) && b.every(function(c) {
            return "number" === typeof c
        }) ? a.s = b : lt16034_.error("tagInput.data.behaviorIds should be an array of numbers"))
    }

    function lt16034_qa(a, b) {
        if (b) {
            var c = !0;
            "object" != typeof b && lt16034_.error("tagInput.data.behaviors should be an object");
            for (var d = lt16034_a(Object.entries(b)), e = d.next(); !e.done; e = d.next()) {
                var h = lt16034_a(e.value);
                e = h.next().value;
                h = h.next().value;
                if (!Array.isArray(h) || !h.every(function(g) {
                        return "string" === typeof g
                    })) {
                    lt16034_.error("tagInput.data.behaviors." + e + " should be an array of strings");
                    c = !1;
                    break
                }
            }
            c && (a.u = b)
        }
    }

    function lt16034_w(a) {
        return !!(a.u && 0 < Object.keys(a.u).length)
    }

    function lt16034_ra(a, b) {
        if (b) {
            for (var c = !0, d = lt16034_a(Object.entries(b)), e = d.next(); !e.done; e = d.next()) {
                var h = lt16034_a(e.value);
                e = h.next().value;
                h = h.next().value;
                if (!Array.isArray(h) || !h.every(function(g) {
                        return "string" === typeof g
                    })) {
                    lt16034_.error("tagInput.data.ruleBuilder." + e + " should be an array of strings");
                    c = !1;
                    break
                }
            }
            c && (a.A = b)
        }
    }

    function lt16034_x(a) {
        return !!(a.A && 0 < Object.keys(a.A).length)
    }

    function lt16034_y(a) {
        return !!(a.h && 0 < Object.keys(a.h).length)
    }
    lt16034_u.prototype.va = function() {
        return Object.assign({}, {
            b: this.s && 0 < this.s.length ? this.s : void 0,
            bt: lt16034_w(this) ? this.u : void 0,
            db: lt16034_x(this) ? this.A : void 0,
            did: lt16034_y(this) ? this.h : void 0
        }, lt16034_q.prototype.va.call(this))
    };
    lt16034_u.prototype.D = function() {
        return !(this.s && 0 < this.s.length) && !lt16034_w(this) && !lt16034_x(this) && !lt16034_y(this) && lt16034_q.prototype.D.call(this)
    };
    lt16034_u.prototype.o = function() {
        return Object.assign({}, {
            behaviorIds: this.s && 0 < this.s.length ? this.s : void 0,
            behaviors: lt16034_w(this) ? this.u : void 0,
            ruleBuilder: lt16034_x(this) ? this.A : void 0,
            declaredId: lt16034_y(this) ? this.h : void 0
        }, lt16034_q.prototype.o.call(this))
    };

    function lt16034_z(a, b, c) {
        document.addEventListener ? a.addEventListener(b, c, !1) : document.attachEvent && a.attachEvent("on" + b, c)
    }

    function lt16034_A(a, b, c) {
        document.removeEventListener ? a.removeEventListener(b, c, !1) : document.detachEvent && a.detachEvent("on" + b, c)
    }

    function lt16034_v(a) {
        return "[object Object]" === Object.prototype.toString.call(a)
    }

    function lt16034_B(a) {
        return 0 === Object.keys(a).length && a.constructor === Object
    }

    function lt16034_C(a, b, c) {
        c = void 0 === c ? !0 : c;
        b = b || {};
        var d = Object.assign({
                method: "GET",
                ia: lt16034_D,
                error: lt16034_D,
                complete: lt16034_D
            }, b),
            e = new XMLHttpRequest;
        e.onreadystatechange = function() {
            if (4 == e.readyState) {
                var h = {};
                if (200 == e.status) {
                    var g = {};
                    try {
                        g = JSON.parse(e.response)
                    } catch (f) {
                        lt16034_.error("Could not parse the following response from Lotame's servers: " + e.response)
                    }
                    d.ia(g, e.statusText, h);
                    d.complete(g, e.statusText, h)
                } else d.error(h, e.statusText, e.response), d.complete(h, e.statusText, e.response)
            }
        };
        b = "undefined" === typeof d.data ? "" : JSON.stringify(d.data);
        e.open(d.method, a, !0);
        e.setRequestHeader("Content-Type", "text/plain;charset\x3dUTF-8");
        c && (e.withCredentials = !0);
        e.send(b)
    }

    function lt16034_ta() {
        return !(!navigator.userAgent || -1 == navigator.userAgent.indexOf("Safari") || -1 != navigator.userAgent.indexOf("Chrome"))
    }

    function lt16034_D() {}

    function lt16034_E() {
        this.w = []
    }
    lt16034_E.prototype.enqueue = function(a) {
        this.w.push(a)
    };

    function lt16034_ua(a) {
        if (0 != a.w.length) return a.w.shift()
    }
    lt16034_E.prototype.D = function() {
        return 0 === this.w.length
    };

    function lt16034_F() {
        this.$ = new lt16034_E
    }
    lt16034_F.prototype.enqueue = function(a) {
        lt16034_v(a) && this.$.enqueue(new lt16034_u(a))
    };

    function lt16034_G(a) {
        var b = lt16034_ua(a.$);
        if (b)
            for (; !a.$.D();) b = lt16034_sa(b, lt16034_ua(a.$));
        return b
    }
    lt16034_F.prototype.D = function() {
        return this.$.D()
    };

    function lt16034_va(a) {
        this.pa = this.L = this.qa = !1;
        this.Fa = "unknown";
        this.l = new lt16034_F;
        this.na = !1;
        this.P = a
    }
    lt16034_va.prototype.o = function() {
        return JSON.parse(JSON.stringify({
            running: this.qa,
            runRequested: this.L,
            pageLoaded: this.pa,
            dataCollectionEnvironment: this.Fa,
            internalDataQueue: this.l,
            internalDataQueueBeingProcessed: this.na,
            dataCollectionOnlyUseCase: this.P
        }))
    };

    function lt16034_H(a) {
        this.f = a;
        this.wb = new lt16034_l;
        this.Za = this.f.a.profileIdCookieName;
        try {
            var b = window.localStorage;
            b.setItem("__storage_test__", "__storage_test__");
            b.removeItem("__storage_test__");
            var c = !0
        } catch (d) {
            c = d instanceof DOMException && (22 === d.code || 1014 === d.code || "QuotaExceededError" === d.name || "NS_ERROR_DOM_QUOTA_REACHED" === d.name) && b && 0 !== b.length
        }
        this.Ua = c;
        this.nc = this.f.a.cookieNames;
        this.Ca = 23328E3;
        this.Ba = "_exp"
    }

    function lt16034_I(a) {
        return lt16034_J(a, a.Za)
    }

    function lt16034_J(a, b) {
        var c = a.N(b);
        c || (c = lt16034_K(a, b));
        return c
    }

    function lt16034_L(a, b, c, d) {
        a.K(b, c, void 0 === d ? a.Ca : Math.ceil((d - (new Date).getTime()) / 1E3));
        lt16034_M(a, b, c, d)
    }
    lt16034_H.prototype.K = function(a, b, c) {
        this.wb.K(a, b, this.f.a.cookieDomain, c)
    };

    function lt16034_M(a, b, c, d) {
        a.Ua && (window.localStorage.setItem(b, c || ""), void 0 !== d && window.localStorage.setItem(b + a.Ba, String(d)))
    }

    function lt16034_N(a, b) {
        a.Ua && (window.localStorage.removeItem(b), window.localStorage.removeItem(b + a.Ba))
    }
    lt16034_H.prototype.N = function(a) {
        return this.wb.N(a)
    };

    function lt16034_K(a, b) {
        return a.Ua && (a = window.localStorage.getItem(b + a.Ba), !a || "" === a || (new Date(a)).getTime() > Date.now()) ? window.localStorage.getItem(b) : null
    }

    function lt16034_wa(a, b) {
        b && b.forEach(function(c) {
            var d = c.k,
                e = c.v;
            c = c.e;
            a.K(d, e, c);
            0 < c ? lt16034_M(a, d, e) : lt16034_N(a, d)
        })
    }
    lt16034_H.prototype.T = function() {
        var a = this,
            b = [];
        a.nc.forEach(function(c) {
            var d = lt16034_J(a, c);
            d && b.push({
                k: c,
                v: d
            })
        });
        return b
    };
    lt16034_H.prototype.M = function() {
        return this.f.a.panoramaIdEnabled ? lt16034_J(this, this.f.a.panoramaIdName) : null
    };

    function lt16034_xa(a) {
        return a.f.a.panoramaIdEnabled ? lt16034_J(a, a.f.a.panoramaIdTypeName) : null
    };

    function lt16034_O(a, b) {
        this.f = a;
        this.storage = b;
        this.sb = 250;
        this.xa = 0
    }
    lt16034_O.prototype.W = function() {
        console.error("Class extending BaseConsentHandler must implement pollForConsent()")
    };
    lt16034_e.Object.defineProperties(lt16034_O, {
        fb: {
            configurable: !0,
            enumerable: !0,
            get: function() {
                return 60
            }
        }
    });

    function lt16034_ya(a) {
        "object" !== typeof a && (a = {});
        this.sa = a.consent;
        this.error = a.error;
        this.V = a.pid
    }

    function lt16034_za(a, b) {
        if (!1 !== (a.sa && 0 < a.sa.length)) return a.sa.find(function(c) {
            return c.clientid == b
        })
    }

    function lt16034_Aa(a, b) {
        if (b = lt16034_za(a, b)) return {
            consent: [b],
            profileId: a.V ? a.V : null
        }
    }

    function lt16034_Ba(a, b) {
        return (a = lt16034_za(a, b)) && a.types && 0 < a.types.length ? a.types : []
    }
    lt16034_ya.prototype.toString = function() {
        return JSON.stringify({
            consent: this.sa,
            error: this.error,
            pid: this.V
        })
    };

    function lt16034_Ca(a) {
        a = a || {};
        this.profile = new lt16034_ya(a.Profile)
    };

    function lt16034_Da(a, b) {
        this.f = a;
        this.storage = b;
        this.Oa = {
            analytics: "ca",
            datasharing: "cds",
            targeting: "cta",
            crossdevice: "ccd"
        };
        this.ac = "fp";
        this.Sb = "c";
        this.Vb = "ct";
        this.Wb = "skip";
        this.qb = {};
        lt16034_p(this.f) && (this.qb[this.Vb] = this.Wb);
        this.vb = this.f.a.consentClientIds;
        this.rb = this.f.a.protocol + "://" + (lt16034_ta() ? this.f.a.privacyFirstPartyOnlyDomain : this.f.a.privacyDomain) + "/consent"
    }

    function lt16034_Ea(a, b, c) {
        if ("function" !== typeof b) throw lt16034_k(lt16034_, "First argument to getConsent must be a callback function but was " + b);
        if ("number" === typeof c) {
            if (!a.vb.includes(c)) throw lt16034_k(lt16034_, "Client " + a.f.a.bcpClient + " cannot get consent for client " + c);
        } else throw lt16034_k(lt16034_, "Second argument to getConsent must be a Lotame client id but was " + c);
        var d = lt16034_I(a.storage);
        d = lt16034_Fa(a, a.rb + "/get", c, d);
        lt16034_C(d, {
            method: "GET",
            ia: function(e) {
                return lt16034_Ga(a, e, b, c, !1)
            },
            error: function(e, h) {
                b(lt16034_Ha(h))
            }
        })
    }

    function lt16034_Ia(a, b, c, d) {
        if ("function" !== typeof b) throw lt16034_k(lt16034_, "First argument to setConsent must be a callback function");
        if ("number" === typeof c) {
            if (!a.vb.includes(c)) throw lt16034_k(lt16034_, "Client " + a.f.a.bcpClient + " cannot set consent for client " + c);
        } else throw lt16034_k(lt16034_, "Second argument to setConsent must be a Lotame client id but was " + c);
        lt16034_Ja(a, d);
        var e = lt16034_I(a.storage),
            h = lt16034_K(a.storage, "lotame_" + c + "_consent");
        try {
            var g = JSON.parse(h || "{}")
        } catch (f) {
            lt16034_.debug("Error parsing consent from local storage: " + h)
        }
        h = new lt16034_ya(g);
        lt16034_Ka(a, h, e, d, c) ? b(lt16034_Aa(h, c)) : (d = lt16034_Fa(a, a.rb + "/set", c, e, lt16034_La(a, d)), lt16034_C(d, {
            method: "GET",
            ia: function(f) {
                return lt16034_Ga(a, f, b, c, !0)
            },
            error: function(f, k) {
                b(lt16034_Ha(k))
            }
        }))
    }

    function lt16034_Fa(a, b, c, d, e) {
        d = void 0 === d ? null : d;
        e = void 0 === e ? {} : e;
        e = Object.assign({}, a.qb, e);
        e[a.Sb] = c;
        d && (e[a.ac] = d);
        a = b;
        if ("undefined" !== typeof e) {
            b = !1;
            for (var h in e) b ? a += "\x26" : (a += "?", b = !0), a += h + "\x3d" + encodeURIComponent("" + e[h])
        }
        return a
    }

    function lt16034_Ga(a, b, c, d, e) {
        b = (new lt16034_Ca(b)).profile;
        var h = "lotame_" + d + "_consent";
        if ((void 0 === e ? 0 : e) && b.V && lt16034_p(a.f)) {
            e = a.storage;
            var g = b.V;
            e.K(e.Za, g);
            lt16034_M(e, e.Za, g)
        }
        b.error ? (c({
            error: b.error
        }), lt16034_N(a.storage, h)) : (0 < lt16034_Ba(b, d).length && lt16034_p(a.f) && lt16034_M(a.storage, h, b.toString()), c(lt16034_Aa(b, d)))
    }

    function lt16034_Ha(a) {
        return {
            error: "500",
            message: "Call to Lotame's servers failed" + (a ? " with the following message: " + a : "")
        }
    }

    function lt16034_Ja(a, b) {
        var c = Object.keys(a.Oa);
        if (!b || !lt16034_v(b) || 0 === Object.keys(b).length) {
            var d = {};
            c.forEach(function(e) {
                d[e] = !0
            });
            throw "Must provide a consent object like: " + JSON.stringify(d);
        }
        Object.keys(b).forEach(function(e) {
            if (!this.Oa[e]) throw lt16034_k(lt16034_, "Consent attribute '" + e + "' is not in valid keys " + c);
            if ("boolean" !== typeof b[e]) throw lt16034_k(lt16034_, "Consent attribute '" + e + "' must have the boolean value of true or false");
        }, a)
    }

    function lt16034_La(a, b) {
        var c = {};
        Object.keys(b).forEach(function(d) {
            c[this.Oa[d]] = b[d] ? 1 : 0
        }, a);
        return c
    }

    function lt16034_Ka(a, b, c, d, e) {
        if (!c || b.V !== c || Object.keys(d).length !== lt16034_Ba(b, e).length) return !1;
        var h = !0;
        lt16034_Ba(b, e).forEach(function(g) {
            d[g.name] !== g.consent && (h = !1)
        }, a);
        return h ? !0 : !1
    };

    function lt16034_Ma(a, b) {
        this.id = a;
        this.dc = b
    }
    lt16034_Ma.prototype.ya = function() {
        var a = this;
        return {
            getId: function() {
                return a.id
            },
            getIdType: function() {
                return a.id ? a.dc || "UNKNOWN" : null
            }
        }
    };
    var lt16034_Na = new Map(Object.entries({
        i: "panoIndiv",
        c: "panoDevice"
    }));

    function lt16034_P(a, b) {
        a = a || {};
        this.f = b || {};
        this.ma = this.O = this.R = this.ib = this.mb = this.Ja = this.Ha = this.Da = null;
        if (b = a.aud) Array.isArray(b) ? this.Da = b : lt16034_.error("profileData.audienceIds should be an array");
        if (b = a.pid) "string" !== typeof b ? lt16034_.error("if defined, profileData.profileId should be a string") : this.Ha = b;
        if (b = a.tc) Array.isArray(b) ? this.Ja = b : lt16034_.error("profileData.targetingCodes should be an array");
        if (b = a.spx) Array.isArray(b) ? this.mb = b : lt16034_.error("profileData.syncPixels should be an array");
        if (b = a.e) Array.isArray(b) ? (this.R = b, Array.isArray(b) && b.forEach(this.Ob)) : lt16034_.error("profileData.errorCodes should be an array");
        if (b = a.exb) Array.isArray(b) ? this.ib = b : lt16034_.error("profileData.exportBeaconIds should be an array");
        lt16034_Oa(this, a.c);
        lt16034_Pa(this, a.ids)
    }

    function lt16034_Oa(a, b) {
        if (b)
            if (Array.isArray(b)) {
                var c = [];
                b.forEach(function(d) {
                    var e = !0,
                        h = d.k,
                        g = d.v,
                        f = d.e;
                    "string" !== typeof h && (lt16034_.error("profileData.cookies key attribute should be a string but was " + h), e = !1);
                    "string" !== typeof g && (lt16034_.error("profileData.cookies value attribute should be a string but was " + g), e = !1);
                    "number" !== typeof f && (lt16034_.error("profileData.cookies expiration attribute should be a number but was " + f), e = !1);
                    e && c.push(d)
                });
                a.O = c
            } else lt16034_.error("profileData.cookies (" + b + ") should be an array")
    }

    function lt16034_Pa(a, b) {
        if (b)
            if (Array.isArray(b)) {
                var c = [];
                b.forEach(function(d) {
                    var e = !0,
                        h = d.c,
                        g = d.i,
                        f = d.t,
                        k = d.e;
                    "string" !== typeof h && (lt16034_.error("profileData.ids category attribute should be a string but was " + h), e = !1);
                    "string" !== typeof g && "core" !== h && (lt16034_.error("profileData.ids id attribute should be a string but was " + g), e = !1);
                    f && "string" !== typeof f && (lt16034_.error("if set, profileData.ids type attribute should be a string but was " + f), e = !1); - 1 == ["undefined", "string"].indexOf(typeof k) && (lt16034_.error("if set, profileData.ids expiry attribute should be a string but was " + k), e = !1);
                    e && c.push(d)
                });
                a.ma = c
            } else lt16034_.error("profileData.ids (" + b + ") should be an array")
    }

    function lt16034_Qa(a, b, c) {
        return (a = lt16034_Ra(a, c)) && a !== [] ? a.join(void 0 === b ? "," : b) : null
    }

    function lt16034_Ra(a, b) {
        var c = [];
        a.Ja ? c = a.Ja : a.Da && (c = a.Da.join(",").split(","));
        return "number" === typeof b && 0 < b ? c.slice(0, b) : c
    }

    function lt16034_Sa(a) {
        return (a.ma || []).find(function(b) {
            return "core" == b.c
        })
    }
    lt16034_P.prototype.M = function() {
        var a = lt16034_Sa(this);
        return a ? a.i : null
    };

    function lt16034_Ta(a) {
        var b = lt16034_Sa(a);
        a = b ? b.i : null;
        b ? (b = b.t, b = null == b ? null : (b = lt16034_Na.get(b)) ? b : "UNKNOWN") : b = null;
        return (new lt16034_Ma(a, b)).ya()
    }

    function lt16034_Ua(a) {
        return (a.ma || []).find(function(b) {
            return "did" == b.c
        })
    }
    lt16034_P.prototype.Ta = function() {
        return this.mb
    };
    lt16034_P.prototype.Sa = function() {
        return this.ib
    };
    lt16034_P.prototype.T = function() {
        return this.O
    };

    function lt16034_Va(a, b) {
        return (a = (a.ma || []).find(function(c) {
            return b == c.t && "sync" == c.c
        })) ? a.i : null
    }
    lt16034_P.prototype.ya = function() {
        var a = this,
            b = {};
        return b.getProfileId = function() {
            return a.Ha
        }, b.getAudienceString = function(c, d) {
            return lt16034_Qa(a, c, d)
        }, b.getAudiences = function(c) {
            return lt16034_Ra(a, c)
        }, b.getErrorCodes = function() {
            return a.R
        }, b.getThirdParty = function(c) {
            return lt16034_Va(a, c)
        }, b.getPanoramaId = function() {
            return a.M()
        }, b.getPanorama = function() {
            return lt16034_Ta(a)
        }, b
    };
    lt16034_P.prototype.Ob = function(a) {
        var b = void 0;
        switch (a) {
            case 100:
                b = "Audience extraction calls are not enabled.";
                break;
            case 101:
                b = "Appropriate consent for audience extraction is not present.";
                break;
            case 102:
                b = "Data collection is not enabled.";
                break;
            case 103:
                b = "Id syncing is not enabled.";
                break;
            case 104:
                b = "Data collection client id validation failed.";
                break;
            case 105:
                b = "Audience extraction client id validation failed.";
                break;
            case 106:
                b = "Linked parent id for audience extraction is invalid.";
                break;
            case 107:
                b = "Aborting because third party cookies are disabled and domain is not configured to use first party storage.";
                break;
            case 111:
                b = "Aborting because no consent was present on the request or stored server-side";
                break;
            case 112:
                break;
            case 113:
                b = "Received Error Code 113";
                break;
            case 114:
                b = "Aborting because TCF string was expected but not present.";
                break;
            case 115:
                b = "Declared Ids are not enabled for this client - the request contained a Declared ID but the indicated data collection client is not enabled for this feature.";
                break;
            case 116:
                b = "The request contained a Declared ID that was not properly formatted.";
                break;
            default:
                b = "Unhandled error code " + a + " was received from the data collection call."
        }
        b && lt16034_.error(b)
    };

    function lt16034_Wa(a) {
        return Array.isArray(a.R) ? !!a.R.some(function(b) {
            return -1 !== [102, 104, 111].indexOf(b)
        }) : !1
    };
    var lt16034_Xa = new RegExp(/^.{1,64}@.{1,255}$/),
        lt16034_Ya = ["EMAIL", "EE"];

    function lt16034_Q(a) {
        a = void 0 === a ? {} : a;
        this.Ga = null;
        this.oa = !1;
        if (a && lt16034_v(a)) {
            var b = !1;
            a && lt16034_v(a) ? "undefined" === typeof a.id || "undefined" === typeof a.type ? lt16034_.error("id object must contain both 'id' and 'type' attributes.") : 2 < Object.keys(a).length ? lt16034_.error("id object may only contain 'id' and 'type' attributes, got " + Object.keys(a).join(",")) : lt16034_Ya.includes(a.type) ? "EMAIL" != a.type || lt16034_Xa.test(a.id) ? b = !0 : lt16034_.error("supplied id must be valid email address, was '" + a.id + "'") : lt16034_.error("id object type must one of " + lt16034_Ya.join() + ", found '" + a.type + "'") : lt16034_.error("id should be an object");
            b && (this.Ga = a, this.oa = !0)
        } else lt16034_.error("idInput should be an object")
    }
    lt16034_Q.prototype.D = function() {
        return !(this.oa && "string" === typeof this.Ga)
    };
    lt16034_Q.prototype.o = function() {
        return {
            did: this.Ga
        }
    };

    function lt16034_Za() {
        this.jb = this.Ea = void 0;
        this.gb = this.Ia = this.kb = !1;
        this.lb = !0;
        this.j = this.h = this.O = this.w = void 0;
        this.nb = !1;
        this.Ka = this.S = this.B = void 0
    }

    function lt16034__a(a) {
        var b = new lt16034_Za;
        "boolean" !== typeof a ? lt16034_.error("shouldPerformAudienceExtraction (" + a + ") should be a boolean") : b.kb = a;
        return b
    }

    function lt16034_0a(a) {
        var b = window.location.href,
            c = b.indexOf("?"); - 1 !== c && (b = b.substring(0, c));
        a.jb = b;
        return a
    }

    function lt16034_R(a, b) {
        a.gb = b;
        return a
    }

    function lt16034_S(a, b) {
        a.Ea = b;
        return a
    }

    function lt16034_1a(a, b) {
        a.lb = b;
        return a
    }

    function lt16034_T(a, b) {
        a.Ia = b;
        return a
    }

    function lt16034_U(a, b) {
        a.O = b;
        return a
    }

    function lt16034_2a(a, b) {
        "undefined" !== typeof b && (a.h = b);
        return a
    }

    function lt16034_3a(a, b) {
        "object" === typeof b && (a.j = b);
        return a
    }

    function lt16034_4a(a, b) {
        a.nb = b;
        return a
    }

    function lt16034_V(a, b) {
        "undefined" !== typeof b && (a.S = b);
        return a
    }

    function lt16034_W(a, b) {
        "undefined" !== typeof b && (a.B = b);
        return a
    }

    function lt16034_X(a, b) {
        "undefined" !== typeof b && (a.Ka = b);
        return a
    }

    function lt16034_Y(a) {
        var b = Object.assign({}, a.w, lt16034_5a(a)),
            c = Object.assign({}, {
                ref: a.jb,
                pv: a.gb,
                dcc: a.Ea,
                co: a.nb
            }, lt16034_6a(a));
        return Object.assign({
            r: {
                rpr: a.kb,
                rpx: a.lb,
                rid: a.Ia
            },
            m: c,
            d: b,
            c: a.O
        }, lt16034_7a(a))
    }

    function lt16034_5a(a) {
        return "object" === typeof a.h ? a.h.o() : {}
    }

    function lt16034_8a(a) {
        return "object" === typeof a.h || "object" === typeof a.w && "object" === typeof a.w.did
    }

    function lt16034_7a(a) {
        var b = "boolean" === typeof a.B,
            c = "string" === typeof a.S,
            d = "string" === typeof a.Ka;
        return b || c ? {
            consent: {
                gdpr_applies: b ? a.B : null,
                gdpr_consent: c ? a.S : null
            }
        } : d ? {
            consent: {
                us_privacy: d ? a.Ka : null
            }
        } : {}
    }

    function lt16034_6a(a) {
        var b = {};
        "object" == typeof a.j && 0 < Object.keys(a.j || {}).length && (b.ch = a.j);
        return b
    };

    function lt16034_Z(a, b) {
        lt16034_O.call(this, a, b);
        this.S = this.B = null;
        this.W()
    }
    lt16034_d(lt16034_Z, lt16034_O);

    function lt16034__(a) {
        var b = a.S;
        b || (b = a.storage.N("eupubconsent-v2"));
        b || (b = a.storage.N("euconsent-v2"));
        return b
    }
    lt16034_Z.prototype.W = function() {
        var a = this;
        if ("undefined" !== typeof window.__tcfapi) {
            var b = function(c, d) {
                d && c && "tcloaded" === c.eventStatus && (c.tcString && "string" == typeof c.tcString && (a.S = c.tcString), c.gdprApplies && "boolean" == typeof c.gdprApplies && (a.B = c.gdprApplies))
            };
            window.__tcfapi("getTCData", 2, b);
            window.__tcfapi("addEventListener", 2, b)
        } else this.xa < lt16034_Z.fb && setTimeout(function() {
            a.W();
            a.xa++
        }, this.sb)
    };

    function lt16034_0(a, b, c) {
        lt16034_O.call(this, a, b);
        this.Xb = c;
        this.La = null;
        (this.hb = a.a.usPrivacyEnabled) && this.W()
    }
    lt16034_d(lt16034_0, lt16034_O);

    function lt16034_1(a) {
        var b = a.La;
        !b && a.hb && (b = a.storage.N("usprivacy"));
        return b
    }
    lt16034_0.prototype.W = function() {
        var a = this;
        "undefined" !== typeof window.__uspapi ? (window.__uspapi("registerDeletion", 1, function(b) {
            lt16034_.debug("Received a deletion request " + JSON.stringify(b));
            a.La = "1YYY";
            b = a.Xb;
            var c = void 0 === c ? lt16034_D : c;
            var d = lt16034_U(lt16034_X(lt16034_V(lt16034_W(lt16034_1a(lt16034_4a(lt16034_S(lt16034_T(lt16034_R(lt16034_0a(lt16034__a(!1)), !0), !1), b.f.a.bcpClient), lt16034_o(b.f)), !1), b.F.B), lt16034__(b.F)), lt16034_1(b.za)), b.storage.T());
            lt16034_9a(b, d);
            lt16034_2(b, lt16034_Y(d), lt16034_3(b, d), "data", c)
        }), window.__uspapi("getUSPData", 1, function(b, c) {
            c && b && b.uspString && "string" == typeof b.uspString && (a.La = b.uspString)
        })) : this.xa < lt16034_0.fb && setTimeout(function() {
            a.W();
            a.xa++
        }, this.sb)
    };

    function lt16034_4(a, b, c) {
        this.f = a || {};
        this.storage = b || {};
        this.state = c;
        this.F = new lt16034_Z(this.f, this.storage);
        this.za = new lt16034_0(this.f, this.storage, this);
        this.fc = lt16034_ta();
        this.X = null;
        this.j = void 0
    }

    function lt16034_$a(a, b) {
        b = void 0 === b ? lt16034_D : b;
        setTimeout(function() {
            a.state.L || lt16034_ab(a, b);
            lt16034_bb(a, b)
        }, 3E3)
    }

    function lt16034_bb(a, b) {
        b = void 0 === b ? lt16034_D : b;
        setInterval(function() {
            a.state.L || lt16034_ab(a, b)
        }, 6E3)
    }

    function lt16034_ab(a, b) {
        b = void 0 === b ? lt16034_D : b;
        try {
            a.state.L || lt16034_cb(a, lt16034_G(a.state.l), b)
        } catch (c) {
            c && lt16034_.error("The following error occurred when collecting data: " + c)
        }
    }

    function lt16034_db(a) {
        try {
            a.state.na && a.ping(lt16034_G(a.state.l))
        } catch (b) {
            b && lt16034_.error("The following error occurred when collecting data on page departure: " + b)
        }
    }
    lt16034_4.prototype.fa = function(a, b) {
        var c = this;
        lt16034_eb(this).then(function(d) {
            c.j = d;
            d = lt16034_X(lt16034_V(lt16034_W(lt16034_3a(lt16034_1a(lt16034_4a(lt16034_S(lt16034_T(lt16034_R(lt16034_0a(lt16034__a(lt16034_n(c.f))), !0), !0), c.f.a.bcpClient), lt16034_o(c.f)), !0), d), c.F.B), lt16034__(c.F)), lt16034_1(c.za));
            if (a) {
                var e = a.va();
                lt16034_B(e) || (d.w = e)
            }
            lt16034_U(d, c.storage.T());
            lt16034_9a(c, d);
            lt16034_2(c, lt16034_Y(d), lt16034_3(c, d), "data", b)
        })
    };

    function lt16034_cb(a, b, c) {
        c = void 0 === c ? lt16034_D : c;
        b && lt16034_v(b) && !lt16034_B(b) && !b.D() && lt16034_eb(a).then(function(d) {
            d = lt16034_fb(a, b, d);
            lt16034_2(a, lt16034_Y(d), lt16034_3(a, d), "data", c)
        })
    }

    function lt16034_2(a, b, c, d, e) {
        e = void 0 === e ? lt16034_D : e;
        lt16034_C(lt16034_gb(a, void 0 === d ? "data" : d, c), {
            method: "POST",
            data: b,
            ia: function(h) {
                a.X = new lt16034_P(h, a.f);
                e(a.X)
            },
            error: function(h, g) {
                lt16034_.error("Aborting due to error contacting Lotame's servers. Error reason was '" + (void 0 === g ? " not provided" : g) + "'.")
            }
        })
    }
    lt16034_4.prototype.ping = function(a) {
        if (a && lt16034_v(a) && !lt16034_B(a) && !a.D()) {
            var b = !1;
            if (window.navigator && window.navigator.sendBeacon) {
                b = lt16034_fb(this, a);
                var c = lt16034_gb(this, "data", lt16034_3(this, b));
                lt16034_.debug("Using navigator.sendBeacon() to send the following data on page exit", a);
                b = navigator.sendBeacon(c, JSON.stringify(lt16034_Y(b)))
            }
            b || (lt16034_.debug("Falling back to ajax to send the following data on page exit", a), lt16034_cb(this, a))
        }
    };

    function lt16034_fb(a, b, c) {
        c = void 0 === c ? {} : c;
        var d = lt16034_1a(lt16034_T(lt16034_S(lt16034_R(lt16034_0a(lt16034__a(!1)), !1), a.f.a.bcpClient), !1), !1);
        b = b.va();
        d.w = b;
        c = lt16034_X(lt16034_V(lt16034_W(lt16034_3a(lt16034_U(lt16034_4a(d, lt16034_o(a.f)), a.storage.T()), c), a.F.B), lt16034__(a.F)), lt16034_1(a.za));
        lt16034_9a(a, c);
        return c
    }
    lt16034_4.prototype.Ta = function() {
        return this.X ? this.X.Ta() : []
    };
    lt16034_4.prototype.Sa = function() {
        return this.X ? this.X.Sa() : []
    };

    function lt16034_hb(a, b) {
        var c = void 0 === c ? lt16034_D : c;
        if (a.f.a.enableDeclaredIds) {
            var d = !1;
            if (lt16034_v(b)) {
                var e = new lt16034_Q(b);
                (d = e.oa) && lt16034_eb(a).then(function(h) {
                    h = lt16034_2a(lt16034_X(lt16034_V(lt16034_W(lt16034_3a(lt16034_U(lt16034_R(lt16034_T(lt16034_S(new lt16034_Za, a.f.a.bcpClient), !1), !1), a.storage.T()), h), a.F.B), lt16034__(a.F)), lt16034_1(a.za)), e);
                    var g = lt16034_2;
                    var f = Object.assign({}, h.w, lt16034_5a(h));
                    var k = Object.assign({}, {
                        dcc: h.Ea
                    }, lt16034_6a(h));
                    f = Object.assign({
                        r: {
                            rid: h.Ia
                        },
                        m: k,
                        d: f,
                        c: h.O
                    }, lt16034_7a(h));
                    g(a, f, lt16034_3(a, h), "map", c)
                })
            }
            d || lt16034_.error("Call to identify must include a properly formatted ID object.")
        } else lt16034_.error("Client " + a.f.a.bcpClient + " is not enabled to declare identifiers. Please contact a Lotame representative.")
    }

    function lt16034_gb(a, b, c) {
        return a.f.a.protocol + "://" + a.f.a[c] + "/" + a.f.a.bcpVersion + "/" + b
    }

    function lt16034_3(a, b) {
        return a.fc ? lt16034_8a(b) ? "sensitiveFirstPartyOnlyDomain" : "bcpFirstPartyOnlyDomain" : lt16034_8a(b) ? "sensitiveDomain" : "bcpDomain"
    }

    function lt16034_9a(a, b) {
        if (a.f.a.enableDeclaredIds && a.f.a.enableDeclaredIdsOnEvents && !lt16034_8a(b)) {
            a: {
                a = a.storage;
                if (a = lt16034_K(a, a.f.a.declaredIdName)) try {
                    var c = Object(JSON.parse(a));
                    break a
                } catch (d) {
                    lt16034_.debug("Error parsing declared ID from local storage: " + a)
                }
                c = null
            }
            c && (c = new lt16034_Q(c), c.oa && lt16034_2a(b, c))
        }
    }

    function lt16034_eb(a) {
        if ("undefined" == typeof a.j) {
            var b = {};
            if ("object" == typeof navigator.userAgentData && "function" == typeof navigator.userAgentData.getHighEntropyValues) return Promise.race([navigator.userAgentData.getHighEntropyValues(["model", "platformVersion", "fullVersionList"]), new Promise(function(c) {
                return setTimeout(c, 10, b)
            })]);
            a.j = b
        }
        return Promise.resolve(a.j)
    };

    function lt16034_ib(a) {
        this.f = a;
        this.Wa = !1;
        this.Ma = this.f.a.bcpClient;
        this.zb = "lt_3p_" + this.Ma;
        this.ec = this.f.a.iframeOrigin + "/" + this.f.a.sharedS3Path + "/lt.iframe.html?c\x3d" + this.f.a.bcpClient;
        a = document.createElement("iframe");
        a.setAttribute("id", this.zb);
        a.setAttribute("src", this.ec);
        a.setAttribute("title", "empty");
        a.setAttribute("tabindex", "-1");
        a.setAttribute("role", "presentation");
        a.setAttribute("aria-hidden", "true");
        a.style.border = "0px";
        a.style.width = "0px";
        a.style.height = "0px";
        a.style.display = "block";
        this.ea = a
    }

    function lt16034_jb(a, b) {
        document.getElementById(a.zb) ? lt16034_kb(b) && b() : (a.ea.onload = function() {
            a.Wa = !0;
            lt16034_kb(b) && b()
        }, "loading" === document.readyState ? window.addEventListener("DOMContentLoaded", function() {
            document.body.appendChild(a.ea)
        }) : document.body.appendChild(a.ea))
    }
    lt16034_ib.prototype.getTime = function() {
        return (new Date).getTime()
    };

    function lt16034_kb(a) {
        return !!(a && a.constructor && a.call && a.apply)
    };

    function lt16034_lb(a) {
        this.Db = a[0] || "";
        this.type = "r" === a[1] ? "referrer" : "element";
        this.Ib = a[2];
        this.$a = a[4] || null
    }

    function lt16034_5(a) {
        return "referrer" === a.type
    };

    function lt16034_6() {
        this.Y = /([a-zA-Z]+)?\{\{([^}}]*)\}\}(\.([a-zA-Z0-9\._-]+))?/g
    }
    lt16034_6.prototype.reset = function() {
        this.Y.lastIndex = 0
    };
    lt16034_6.prototype.exec = function(a) {
        return this.Y.exec(a)
    };
    lt16034_6.prototype.test = function(a) {
        this.Y.lastIndex = 0;
        return this.Y.test(a)
    };
    lt16034_6.prototype.replace = function(a) {
        this.Y.lastIndex = 0;
        return a.replace(this.Y, "")
    };
    var lt16034_7 = new lt16034_6;

    function lt16034_mb(a) {
        a = void 0 === a ? {} : a;
        this.id = a.id;
        this.location = a.location;
        this.element = a.element;
        this.event = a.event;
        this.Rb = a.behaviorType;
        this.Hb = a.ruleBuilderKey;
        this.ja = a.template;
        a: {
            try {
                if (this.element) {
                    var b = lt16034_7.test(this.element) ? this.element : "{{#" + this.element + "}}";
                    lt16034_7.reset();
                    var c = lt16034_7.exec(b);
                    var d = c ? new lt16034_lb(c) : null;
                    break a
                }
            } catch (h) {
                throw Error('Element "' + this.element + '" is invalid');
            }
            d = null
        }
        this.Ra = d;
        a = [];
        try {
            var e;
            for (lt16034_7.reset(); null !== (e = lt16034_7.exec(this.ja));) a.push(new lt16034_lb(e))
        } catch (h) {
            throw Error('Template "' + this.ja + '" is invalid');
        }
        this.Lb = a
    }

    function lt16034_nb(a, b) {
        var c = null;
        try {
            c = (new RegExp(a.location)).exec(b)
        } catch (d) {
            lt16034_.error("Rule [" + a.id + "] " + ("location is an invalid expression: " + a.location))
        }
        return c
    };

    function lt16034_ob() {
        this.Ab = this.Ya = null;
        this.ta = []
    }

    function lt16034_pb(a) {
        var b = new lt16034_ob;
        b.Ya = a;
        return b
    }

    function lt16034_qb(a, b) {
        a.Ab = b;
        return a
    }

    function lt16034_rb(a, b) {
        a.ta = b;
        return a
    };

    function lt16034_sb() {
        this.ga = []
    }
    lt16034_sb.prototype.add = function(a) {
        this.ga.push(a)
    };

    function lt16034_tb(a) {
        var b = [];
        a.ga.forEach(function(c) {
            (c = c.Ab) && 0 < c.length && Array.prototype.forEach.call(c, function(d) {
                d.nodeType && d.nodeType == Node.ELEMENT_NODE && b.push(d)
            })
        });
        return b
    };

    function lt16034_ub(a, b) {
        this.location = a;
        this.document = b
    }

    function lt16034_vb(a, b) {
        var c = null;
        b.element ? 0 < lt16034_8(a, [b.Ra]).ga.length && (c = lt16034_wb(a, b)) : c = lt16034_wb(a, b);
        return c
    }

    function lt16034_8(a, b) {
        var c = new lt16034_sb;
        try {
            b.forEach(function(d) {
                if (lt16034_5(d)) {
                    var e = null,
                        h = lt16034_5(d) ? parseInt(d.$a, 10) || 0 : 0,
                        g = (new RegExp(d.Ib)).exec(a.document.referrer);
                    null !== g && "undefined" !== typeof g[h] && (e = lt16034_xb(g[h]), e = lt16034_rb(lt16034_pb(d.Db), [e]));
                    d = e
                } else d = lt16034_yb(a, d);
                d && c.add(d)
            })
        } catch (d) {
            lt16034_.debug("Error, rule contains bad selector: " + d)
        }
        return c
    }

    function lt16034_yb(a, b) {
        var c = null,
            d = (lt16034_5(b) ? null : b.$a) || "value";
        a = lt16034_zb(a, b.Ib);
        var e = [];
        a && 0 < a.length && (Array.prototype.forEach.call(a, function(h) {
            for (var g = d.split("."), f = 0; h && f < g.length;) h = h[g[f]], f++;
            h && f === g.length && e.push(lt16034_xb(h.toString()))
        }), lt16034_5(b) || !b.$a || 0 < e.length) && (c = lt16034_rb(lt16034_qb(lt16034_pb(b.Db), a), e));
        return c
    }

    function lt16034_zb(a, b) {
        var c = null;
        if (b) try {
            c = a.document.querySelectorAll(b)
        } catch (d) {
            lt16034_.debug("Error querying selector: " + b)
        }
        return c
    }

    function lt16034_xb(a) {
        a = a.replace(/<\/?[^>]+\/?>/gi, "").replace(/\n|\t|\r/gi, " ").replace(/\s{2,}/g, " ").replace(/\[quote\][\s\S]*\[\/quote\]/gi, "");
        try {
            a = decodeURIComponent(a)
        } catch (b) {}
        return a
    }

    function lt16034_wb(a, b) {
        return b.Hb ? lt16034_Ab(a, b) : lt16034_Bb(a, b)
    }

    function lt16034_Bb(a, b) {
        var c = null,
            d = b.ja;
        lt16034_8(a, b.Lb || []).ga.forEach(function(h) {
            d = d.replace(h.Ya, (0 < h.ta.length ? h.ta.join(",") : null) || "")
        });
        if ((a = lt16034_nb(b, a.location)) && 0 < a.length)
            for (var e = 0; e < a.length; e++) d = d.replace(new RegExp("\\$" + e.toString() + "\\b"), a[e]);
        if (d = lt16034_7.replace(d)) {
            c = {
                behaviors: {}
            };
            try {
                d = decodeURI(d)
            } catch (h) {}
            c.behaviors[b.Rb] = ["#OpR#" + b.id + "#" + d];
            c = new lt16034_u(c)
        }
        return c
    }

    function lt16034_Ab(a, b) {
        var c = [],
            d = lt16034_nb(b, a.location),
            e = [];
        if (d && 0 < d.length)
            for (var h = 0; h < d.length; h++) e.push(new RegExp("\\$" + h.toString() + "\\b"));
        var g = lt16034_8(a, b.Lb || []).ga;
        0 < g.length ? (h = g.map(function(f) {
            return f.ta
        }), lt16034_Cb(a, h).forEach(function(f) {
            for (var k = String(b.ja), l = 0; l < g.length; l++) k = k.replace(g[l].Ya, f[l]);
            (k = lt16034_Db(k, e, d)) && c.push(k)
        })) : (a = String(b.ja), (a = lt16034_Db(a, e, d)) && c.push(a));
        a = null;
        0 < c.length && (a = {
            ruleBuilder: {}
        }, a.ruleBuilder[b.Hb] = c, a = new lt16034_u(a));
        return a
    }

    function lt16034_Db(a, b, c) {
        for (var d = 0; d < b.length; d++) a = a.replace(b[d], c[d]);
        return lt16034_7.replace(a)
    }

    function lt16034_Cb(a, b) {
        var c = [],
            d = b.length;
        if (1 == d) c = b[0].map(function(h) {
            return [h]
        });
        else if (1 < d) {
            d = b[0];
            var e = lt16034_Cb(a, b.slice(1));
            d.forEach(function(h) {
                for (var g = JSON.parse(JSON.stringify(e)), f = 0; f < g.length; f++) g[f].unshift(h), c.push(g[f])
            })
        }
        return c
    };

    function lt16034_Eb() {
        this.ab = new lt16034_F
    }
    lt16034_Eb.prototype.add = function(a) {
        a && this.ab.enqueue(a.o())
    };

    function lt16034_Fb(a) {
        return a.ab.D() ? null : lt16034_G(a.ab).o()
    };

    function lt16034_Gb(a) {
        this.Kb = a;
        this.cache = []
    }

    function lt16034_Hb(a, b, c, d) {
        c.forEach(function(e) {
            var h = b.event,
                g = a.cache.find(function(f) {
                    return e === f.element
                });
            g ? (g = g.handlers, h in g || (g[h] = {}, g[h].callbacks = []), g[h].callbacks.push(lt16034_Ib(a, b, e, d))) : (g = {}, g[h] = {}, g[h].callbacks = [lt16034_Ib(a, b, e, d)], a.cache.push({
                element: e,
                handlers: g
            }))
        })
    }

    function lt16034_Ib(a, b, c, d) {
        return function(e) {
            c === d.document && b.element ? lt16034_tb(lt16034_8(d, [b.Ra])).find(function(h) {
                return e.target && e.target == h || e.srcElement && e.srcElement == h
            }) && a.Kb.add(lt16034_vb(d, b)) : a.Kb.add(lt16034_vb(d, b))
        }
    };

    function lt16034_Jb(a, b, c) {
        this.f = a;
        this.Eb = [];
        this.Fb = !1;
        this.xb = lt16034_Kb(this, this.f.a.firstImpressionRules);
        this.gc = b;
        this.eb = new lt16034_Eb;
        this.wa = new lt16034_Gb(this.eb);
        this.cc = "function" === typeof c;
        this.hc = c
    }

    function lt16034_Lb(a) {
        lt16034_.debug("Running Optimus Page Load Rules.");
        a.Fb ? lt16034_Mb(a) : (lt16034_Nb(a), a.Fb = !0)
    }

    function lt16034_Ob(a) {
        lt16034_.debug("Running Optimus First Impression Rules.");
        0 < a.xb.length && (lt16034_Pb(a, a.xb), lt16034_Qb(a, "firstImpression"))
    }

    function lt16034_Nb(a) {
        lt16034_C(a.f.a.protocol + "://" + a.f.a.tagsDomain + "/lt/c/" + a.f.a.bcpClient + "/optimus_rules.json", {
            ia: function(b) {
                a.Eb = lt16034_Kb(a, b);
                lt16034_Mb(a)
            },
            error: function(b, c) {
                lt16034_.error("Failed loading Optimus rules:  " + c)
            }
        }, !1)
    }

    function lt16034_Kb(a, b) {
        var c = [];
        b && Array.isArray(b) && 0 < b.length && b.forEach(function(d) {
            try {
                c.push(new lt16034_mb(d))
            } catch (e) {
                lt16034_.error(e)
            }
        }, a);
        return c
    }

    function lt16034_Rb() {
        var a = window,
            b = {};
        b[a.location.href] = a.document;
        return b
    }

    function lt16034_Mb(a) {
        lt16034_Sb(a);
        lt16034_Pb(a, a.Eb);
        lt16034_Tb(a);
        lt16034_Qb(a, "fullRun")
    }

    function lt16034_Pb(a, b) {
        var c = lt16034_Rb(),
            d = {},
            e;
        for (e in c) d.la = c[e], d.Z = new lt16034_ub(e, d.la), b.forEach(function(h) {
            return function(g) {
                if ((new RegExp(g.location)).test(e))
                    if (g.element && g.event) {
                        var f = lt16034_tb(lt16034_8(h.Z, [g.Ra]));
                        0 >= f.length && "click" === g.event && f.push(h.la);
                        lt16034_Hb(a.wa, g, f, h.Z)
                    } else a.eb.add(lt16034_vb(h.Z, g))
            }
        }(d)), d = {
            Z: d.Z,
            la: d.la
        }
    }

    function lt16034_Tb(a) {
        a.wa.cache.forEach(function(b) {
            var c = b.element;
            b = b.handlers;
            var d = {},
                e;
            for (e in b) d.Aa = b[e].callbacks, b[e].listener = function(h) {
                return function(g) {
                    return lt16034_Ub(a, g, c, h.Aa)
                }
            }(d), lt16034_z(c, e, b[e].listener), lt16034_.debug("Adding " + e + " event handler to " + (c.outerHTML || "document")), d = {
                Aa: d.Aa
            }
        })
    }

    function lt16034_Sb(a) {
        a.wa.cache.forEach(function(b) {
            var c = b.element;
            b = b.handlers;
            for (var d in b) lt16034_A(c, d, b[d].listener)
        });
        a.wa.cache = []
    }

    function lt16034_Ub(a, b, c, d) {
        d.forEach(function(e) {
            return e.call(c, b)
        });
        lt16034_Qb(a, "event")
    }

    function lt16034_Qb(a, b) {
        b = void 0 === b ? "fullRun" : b;
        var c = lt16034_Fb(a.eb);
        c && a.gc.enqueue(c);
        a.cc && "fullRun" === b && a.hc.apply(a, [])
    };

    function lt16034_Vb(a) {
        this.state = a
    }

    function lt16034_Wb(a) {
        if (window.pbjs && "object" === typeof window.pbjs) {
            var b = [],
                c = "bidder adId mediaType cpm dealId currency creativeId adUnitCode".split(" "),
                d = new lt16034_Eb;
            "function" === typeof window.pbjs.getAllPrebidWinningBids && (b = b.concat(window.pbjs.getAllPrebidWinningBids()));
            "function" === typeof window.pbjs.getAllWinningBids && (b = b.concat(window.pbjs.getAllWinningBids()));
            b.forEach(function(e) {
                if ("object" === typeof e && "string" === typeof e.bidder) {
                    var h = {};
                    c.forEach(function(g) {
                        var f = e[g],
                            k = typeof f;
                        "number" === k ? f = String(f).trim() : "string" !== k && (f = "");
                        "" !== f && (h["prebid_" + g] = [f])
                    });
                    d.add(new lt16034_u({
                        ruleBuilder: h
                    }))
                }
            });
            (b = lt16034_Fb(d)) && a.state.l.enqueue(b)
        }
    };

    function lt16034_Xb(a, b, c) {
        (this.ca = a.a.googleCampaignEvents) && 0 < this.ca.length && (this.state = b, this.C = c, this.aa = null, this.Gb = this.ca.includes("render"), this.pc = this.ca.includes("view"), this.Na = this.ca.includes("click"), this.Cb = {}, this.Bb = {}, window.googletag = window.googletag || {
            cmd: []
        }, lt16034_Yb(this), lt16034_Zb(this), this.pc && lt16034__b(this), this.Na && lt16034_0b(this))
    }

    function lt16034_9(a, b, c) {
        var d = {};
        b && (b = b.getResponseInformation()) && (b.advertiserId && (d[c + "AdvertiserId"] = [String(b.advertiserId)]), b.campaignId && (d[c + "CampaignId"] = [String(b.campaignId)]), b.creativeId && (d[c + "CreativeId"] = [String(b.creativeId)]), a.state.l.enqueue((new lt16034_u({
            ruleBuilder: d
        })).o()))
    }

    function lt16034_Yb(a) {
        try {
            window.googletag.cmd.push(function() {
                try {
                    window.googletag.pubads && window.googletag.pubads.getSlots && window.googletag.pubads().getSlots().forEach(function(b) {
                        b.getResponseInformation() && (lt16034_$("Previously Rendered Slot", b), a.Gb && lt16034_9(a, b, "render"), a.Na && lt16034_1b(a, b))
                    })
                } catch (b) {}
            })
        } catch (b) {
            lt16034_.error("Error checking for previously rendered ads")
        }
    }

    function lt16034_Zb(a) {
        try {
            window.googletag.cmd.push(function() {
                try {
                    window.googletag.pubads && window.googletag.pubads().addEventListener("slotRenderEnded", function(b) {
                        lt16034_$("Newly Rendered Slot", b.slot);
                        a.Gb && lt16034_9(a, b.slot, "render");
                        a.Na && lt16034_1b(a, b.slot)
                    })
                } catch (b) {}
            })
        } catch (b) {
            lt16034_.error("Error setting up listeners for newly rendered ads")
        }
    }

    function lt16034__b(a) {
        try {
            window.googletag.cmd.push(function() {
                try {
                    window.googletag.pubads && window.googletag.pubads().addEventListener("impressionViewable", function(b) {
                        lt16034_$("Viewed Slot", b.slot);
                        lt16034_9(a, b.slot, "view")
                    })
                } catch (b) {}
            })
        } catch (b) {
            lt16034_.error("Error setting up listeners for viewed ads")
        }
    }

    function lt16034_0b(a) {
        window.addEventListener("blur", function() {
            null != a.aa && (lt16034_$("Click Slot", a.aa), lt16034_9(a, a.aa, "click"), lt16034_db(a.C))
        })
    }

    function lt16034_1b(a, b) {
        try {
            var c = b.getSlotElementId(),
                d = document.getElementById(c);
            if (d) {
                var e = a.Cb[c];
                e && lt16034_A(d, "mouseover", e);
                var h = a.Bb[c];
                h && lt16034_A(d, "mouseout", h);
                e = function() {
                    lt16034_$("Mouseover Slot", b);
                    a.aa = b
                };
                lt16034_z(d, "mouseover", e);
                a.Cb[c] = e;
                e = function() {
                    lt16034_$("Mouseout Slot", b);
                    a.aa = null
                };
                lt16034_z(d, "mouseout", e);
                a.Bb[c] = e
            }
        } catch (g) {
            lt16034_.error(g)
        }
    }

    function lt16034_$(a, b) {
        if (lt16034_.Qa && b) {
            var c = b.getSlotId().getId();
            lt16034_.debug(a + " - " + c + " : ", b)
        }
    };

    function lt16034_2b(a, b) {
        this.enabled = !0 === a.a.googleEspEnabled && !0 === a.a.panoramaIdEnabled && !0;
        this.storage = b;
        lt16034_.Qa && lt16034_.debug("Google Esp Module Enabled: " + this.enabled);
        !0 === this.enabled && (window.googletag = window.googletag || {
            cmd: []
        }, window.googletag.encryptedSignalProviders = window.googletag.encryptedSignalProviders || [], (a = this.storage.M()) && lt16034_3b(this, a))
    }

    function lt16034_3b(a, b) {
        b = b || "";
        a.enabled && window.googletag.encryptedSignalProviders.push({
            id: "crwdcntrl.net",
            collectorFunction: function() {
                lt16034_.debug("panoramaId provided to googleEsp: " + b);
                return Promise.resolve(b)
            }
        })
    };

    function lt16034_4b(a, b) {
        this.f = a;
        this.storage = b
    }

    function lt16034_5b(a, b) {
        var c = b.T();
        c && lt16034_wa(a.storage, c);
        var d;
        if (d = (c = lt16034_Sa(b)) ? c.e : null) {
            c = lt16034_Ta(b);
            var e = b.M(),
                h = c ? c.getIdType() : null,
                g = a.f.a.panoramaIdName;
            c = a.f.a.panoramaIdTypeName;
            var f = parseInt(d, 10);
            lt16034_L(a.storage, g + "_expiry", d, f);
            "string" === typeof e && e ? lt16034_L(a.storage, g, e, f) : (d = a.storage, d.K(g, "", 0), lt16034_N(d, g));
            "string" === typeof h && h && "UNKNOWN" !== h ? lt16034_L(a.storage, c, h, f) : (d = a.storage, d.K(c, "", 0), lt16034_N(d, c))
        }
        lt16034_6b(a, b)
    }

    function lt16034_6b(a, b) {
        a.f.a.enableDeclaredIds && a.f.a.enableDeclaredIdsOnEvents && (b = lt16034_Ua(b)) && (b.i ? (a = a.storage, lt16034_M(a, a.f.a.declaredIdName, JSON.stringify({
            id: b.i,
            type: b.t
        }))) : (a = a.storage, lt16034_N(a, a.f.a.declaredIdName)))
    }

    function lt16034_7b(a, b) {
        if ("function" === typeof a.f.a.onProfileReady) try {
            (0, a.f.a.onProfileReady)(b.ya())
        } catch (c) {
            c && lt16034_.error("The following error occurred in the onProfileReady callback: " + c)
        }
    }

    function lt16034_8b(a) {
        var b = a.f.a.namespace;
        Array.isArray(b.cmd) ? b.cmd.forEach(function(c) {
            if ("function" === typeof c) try {
                c.apply(a)
            } catch (d) {
                d && lt16034_.error("The following error occurred when executing queued commands: " + d)
            }
        }) : b.cmd = [];
        b.cmd.push = function(c) {
            if ("function" === typeof c) try {
                c.apply(a)
            } catch (d) {
                d && lt16034_.error("The following error occurred when executing a command: " + d)
            }
        }
    };

    function lt16034_9b() {
        var a = this;
        this.f = new lt16034_ma;
        this.state = new lt16034_va(!lt16034_n(this.f));
        this.Va = new lt16034_ib(this.f);
        this.storage = new lt16034_H(this.f);
        this.C = new lt16034_4(this.f, this.storage, this.state);
        this.ub = new lt16034_Da(this.f, this.storage);
        this.ic = new lt16034_Vb(this.state);
        new lt16034_Xb(this.f, this.state, this.C);
        this.bc = new lt16034_2b(this.f, this.storage);
        this.Xa = new lt16034_Jb(this.f, this.state.l, function() {
            a.state.P && a.fa()
        });
        this.ua = new lt16034_4b(this.f, this.storage);
        lt16034_z(window, "message", function(b) {
            if (a.f.a.iframeOrigin === b.origin && b.data.action == "ltjs:" + a.f.a.bcpClient + ":publishLotameEnvironment") {
                b = b.data.value;
                a.state.Fa = b;
                if ("thirdParty" === b) {
                    b = a.Va;
                    var c = a.C,
                        d = {
                            oc: c.Ta(),
                            $b: c.Sa(),
                            Ub: {
                                tcString: lt16034__(c.F),
                                gdprApplies: c.F.B
                            }
                        };
                    c.j && 0 < Object.keys(c.j || {}).length && (d.tb = c.j);
                    c = d;
                    c = void 0 === c ? {} : c;
                    b.Wa && (d = c.Ub || {}, d.syncPixels = c.oc, d.exportBeacons = c.$b, c.tb && (d.clientHints = c.tb), d.clientId = b.f.a.bcpClient, d.bcpPrefix = b.f.a.bcpPrefix, b.ea.contentWindow.postMessage({
                        action: "ltjs:" + b.Ma + ":requestDeployPixelContent",
                        params: d
                    }, b.f.a.iframeOrigin))
                }
                a.state.P || lt16034_$b(a);
                a.state.qa = !1;
                a.state.L && lt16034_ac(a)
            }
        });
        lt16034_z(window, "visibilitychange", function() {
            "hidden" === document.visibilityState && lt16034_db(a.C)
        });
        lt16034_z(window, "pagehide", function() {
            lt16034_db(a.C)
        });
        lt16034_z(window, "load", function() {
            a.state.pa = !0;
            !0 === a.f.a.autoRun && lt16034_$b(a)
        });
        "complete" === document.readyState && (this.state.pa = !0);
        lt16034_bc(this);
        lt16034_8b(this.ua);
        if ("function" === typeof this.f.a.onTagReady) try {
            (0, this.f.a.onTagReady)(this.f.a.namespace)
        } catch (b) {
            b && lt16034_.error("The following error occurred in the onTagReady callback: " + b)
        }!0 === this.f.a.autoRun && lt16034_ac(this)
    }

    function lt16034_ac(a, b) {
        b = void 0 === b ? {} : b;
        a.state.qa ? (a.state.L = !0, a.state.l.enqueue(b)) : a.state.P ? (a.state.l.enqueue(b), lt16034_$b(a)) : a.fa(b)
    }
    lt16034_9b.prototype.fa = function(a) {
        var b = this;
        a = void 0 === a ? {} : a;
        this.state.qa = !0;
        this.state.L = !1;
        this.state.l.enqueue(this.f.a.namespace.data || {});
        lt16034_Ob(this.Xa);
        var c = lt16034_G(this.state.l);
        lt16034_v(a) && !lt16034_B(a) && (a = new lt16034_u(a), c = c ? lt16034_sa(c, a) : a);
        lt16034_.debug("Recording a page view.");
        this.C.fa(c, function(d) {
            return lt16034_cc(b, d)
        })
    };

    function lt16034_bc(a) {
        var b = a.f.a.namespace;
        b.getAudiences = function(c) {
            var d = a.storage,
                e = [],
                h = d.f.a.audienceLocalStorage;
            if (h) try {
                var g = lt16034_K(d, h);
                g && (e = g.split(","), "number" === typeof c && 0 < c && (e = e.slice(0, c)))
            } catch (f) {
                lt16034_.error("The following error occurred while trying to get audiences: " + f)
            } else lt16034_.error("The audienceLocalStorage configuration must be enabled to get audiences.");
            return e
        };
        b.getProfileId = function() {
            return lt16034_I(a.storage)
        };
        b.getPanoramaId = function() {
            return a.storage.M()
        };
        b.page = function(c) {
            return lt16034_ac(a, c)
        };
        b.collect = function(c) {
            return a.state.l.enqueue(c)
        };
        b.setIdentity = function(c) {
            if (a.f.a.enableDeclaredIdsOnEvents) {
                var d = a.C;
                if (d.f.a.enableDeclaredIds && d.f.a.enableDeclaredIdsOnEvents) {
                    var e = !1;
                    lt16034_v(c) && (c = new lt16034_u({
                        declaredId: c
                    }), lt16034_y(c) && (e = !0, d.state.l.enqueue(c.o())));
                    e || lt16034_.error("Call to identify must include a properly formatted ID object.")
                } else lt16034_.error("Client " + d.f.a.bcpClient + " is not enabled to declare identifiers on all events. Please contact a Lotame representative.")
            } else lt16034_hb(a.C, c)
        };
        b.sync = function() {
            return lt16034_.error("sync() is not supported. Either switch to using sync.js or use the collect() method")
        };
        b.getConsent = function(c, d) {
            return lt16034_Ea(a.ub, c, d)
        };
        b.setConsent = function(c, d, e) {
            return lt16034_Ia(a.ub, c, d, e)
        };
        b.getInternalState = function() {
            return a.state.o()
        };
        b.getInternalConfigs = function() {
            return a.f.o()
        };
        b.getPanorama = function() {
            return (new lt16034_Ma(a.storage.M(), lt16034_xa(a.storage))).ya()
        }
    }

    function lt16034_cc(a, b) {
        lt16034_5b(a.ua, b);
        var c = a.f.a.audienceLocalStorage;
        lt16034_n(a.f) && !1 !== c && (lt16034_o(a.f) ? lt16034_N(a.storage, c) : lt16034_M(a.storage, c, lt16034_Qa(b, ",")));
        lt16034_7b(a.ua, b);
        lt16034_Wa(b) ? lt16034_.error("Aborting due to above errors.") : Array.isArray(b.R) && b.R.includes(107) ? lt16034_.debug("Cookie test failed.") : (lt16034_3b(a.bc, a.storage.M()), lt16034_jb(a.Va, function() {
            var d = a.Va;
            d.Wa && d.ea.contentWindow.postMessage({
                action: "ltjs:" + d.Ma + ":requestLotameEnvironment",
                key: d.f.a.profileIdCookieName
            }, d.f.a.iframeOrigin)
        }), b.Ha && !a.state.na && (a.state.na = !0, lt16034_$a(a.C, function(d) {
            lt16034_6b(a.ua, d)
        })))
    }

    function lt16034_$b(a) {
        if (a.state.pa) {
            if (a.f.a.hasPageLoadOptimusRules) switch (a.state.Fa) {
                case "thirdParty":
                case "firstParty":
                    lt16034_Lb(a.Xa);
                    break;
                default:
                    a.state.P && lt16034_Lb(a.Xa)
            }
            a.f.a.collectPrebidData && lt16034_Wb(a.ic);
            a.state.P && !a.f.a.hasPageLoadOptimusRules && a.fa()
        }
    };
    lt16034_.name = "LT.JS";
    try {
        new lt16034_9b
    } catch (a) {
        lt16034_.error(a)
    };
}